@{
    ViewData["Title"] = "Show Results";

}
<div class="row">
    <div class="col-lg-8 m-auto ">
        <h2> Show Results</h2>
        <select class="form-select" name="CrsId" id="crsId" asp-items="ViewBag.courses" value="Model.CrsId">
        </select>

    </div>
        <div class="container-fluid col-12" id="results"></div>
</div>



@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        function getResults() {
            var crsId = $('#crsId').val();
            $.ajax({
                url: '/Instructor/GetStudentsResultByCourse',
                type: 'GET',
                data: { crsId: crsId },
                success: function (data) {
                    $('#results').html(data);
                }
            });
        }
        $(document).ready(function () { 
            getResults();
            $('#crsId').change(getResults);
        });

    </script>
}
